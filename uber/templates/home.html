{% extends "base.html" %}

{% block title %}Konvoy | Home{% endblock %}

{% block content %}
<div class="gradient-bg min-h-[calc(100vh-5rem)] flex items-center justify-center px-4 py-12">
    <div class="w-full max-w-lg space-y-12">
        <div class="text-center">
            <h1 class="text-5xl sm:text-7xl font-black text-white tracking-tighter uppercase mb-4">Dashboard</h1>
            <p class="text-[10px] font-bold text-white/40 uppercase tracking-[0.3em]">Premium Driver Operations</p>
        </div>

        <div class="glass-panel p-10 rounded-[2.5rem] premium-shadow">
            <div class="grid grid-cols-1 gap-6">
                {% if current_user.has_permission('can_change_location') %}
                <a href="/change-location" class="group flex items-center justify-between p-6 bg-white rounded-2xl transition-all hover:scale-[1.02]">
                    <div class="flex items-center space-x-5">
                        <div class="w-12 h-12 bg-black rounded-xl flex items-center justify-center text-white">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs font-black text-black uppercase tracking-widest">Change Location</p>
                            <p class="text-[10px] font-bold text-black/40 uppercase tracking-widest">Update Driver Presence</p>
                        </div>
                    </div>
                    <svg class="w-5 h-5 text-black opacity-30 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </a>
                {% endif %}
                
                {% if current_user.has_permission('can_fetch_ride') %}
                <a href="/fetch-ride" class="group flex items-center justify-between p-6 border border-white/10 rounded-2xl transition-all hover:bg-white/5">
                    <div class="flex items-center space-x-5">
                        <div class="w-12 h-12 border border-white/20 rounded-xl flex items-center justify-center text-white">
                            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>
                            </svg>
                        </div>
                        <div>
                            <p class="text-xs font-black text-white uppercase tracking-widest">Fetch Ride</p>
                            <p class="text-[10px] font-bold text-white/40 uppercase tracking-widest">Assign Active Missions</p>
                        </div>
                    </div>
                    <svg class="w-5 h-5 text-white opacity-20 group-hover:opacity-100 transition-opacity" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </a>
                {% endif %}
            </div>

            {% if current_user.is_owner() %}
            <div class="mt-10 pt-10 border-t border-white/5">
                <p class="text-[10px] font-black text-white/30 uppercase tracking-[0.3em] mb-6 text-center">System Administration</p>
                <div class="grid grid-cols-2 gap-4">
                    <a href="{{ url_for('admin') }}" class="flex items-center justify-center py-4 bg-zinc-900 border border-white/5 rounded-xl text-[10px] font-black uppercase tracking-widest text-white hover:bg-zinc-800 transition-all">
                        User Control
                    </a>
                    <a href="{{ url_for('roles') }}" class="flex items-center justify-center py-4 bg-zinc-900 border border-white/5 rounded-xl text-[10px] font-black uppercase tracking-widest text-white hover:bg-zinc-800 transition-all">
                        Role Security
                    </a>
                </div>
            </div>
            {% endif %}
        </div>
    </div>
</div>
{% endblock %}
